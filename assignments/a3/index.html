<html>

	<head>
		<meta charset="utf-8">
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>

	<body>

		<h1>Assignment 3: Interactive Visualization</h1>

		<h2>Background</h2>

		<p>Last summer, Washington experienced several days of smoky air due to several
				large wildfires across the Pacific Northwest. Any smoke particulate in the air
				is unhealthy to breath for any period of time, but it is especially dangerous
				for those with chronic health conditions, such as asthma, or those who are
				required to spend their day working outdoors.</p>

		<p>Researchers in the EPA and National Forest Service are able to track smoke
				levels by looking at the data from federal air quality monitoring stations
				across the US. In recent years, work has been done to make this data more
				accessible and easy to work with, putting useful information in the hands of
				more people.</p>


		<h2>The Domain</h2>

		<p>In this project, we will be looking at air quality data in Seattle around the
				time of peak smoke levels in August 2018. Specifically, we will be looking at
				air particulate matter at a size of 2.5 micrograms or greater for one monitor in
				downtown Seattle. This is measured as "pm 2.5", with units of microgram per cubic
				meter. Every monitor makes one measurement per hour. In order to smooth the data
				and dampen potential outliers, a "lagged-mean" filter called NowCast is applied
				to the data.</p>

		<p>The target audience for this project would be members of the local community,
				who are interested in looking at trends in air quality, but lack domain
				expertise.</p>


		<h2>The Visualization</h2>

		<p>A bar plot was chosen as the primary visualization, which will show the PM 2.5
				NowCast value for every hour of a given day. Bar plots are good at showing
				differences in length and position encodings for ratio data, and they will
				be colored based on the EPA air quality category. Together, these encodings will
				allow the audience to see the magnitude of difference between two PM 2.5
				measurement, while also being able to quickly see the ordinal rank of each
				measurement.</p>


		<h2>The Interaction</h2>

		<p>Our audience is likely to be interested in not just the variation in air quality
				throughout a day, but variations in air quality between days as well. In order
				to facilitate this kind of exploration, we will implement a slider that allows
				the audience to change the day and update the bar plot accordingly. When the
				date is changed, the bars for each hour will adjust height and change color to
				display the new data. This will allow users to see the change as a flow instead
				of something abrupt, matching with the fact that air quality doesn't instantly
				change either.</p>

		<p>In addition, each bar will display it's PM 2.5 value in a tooltip when hovered
				over. This will allow those interested in exact numbers to get the information
				they want without distracting other users who are more interested in trends and
				differences.</p>


		<h2>Storyboard</h2>

		<a href="img/storyboard.jpg">
			<img src="img/storyboard.jpg" alt="Storyboard of interactive visualization on paper." style="width:500px;height:350px;">
		</a>



		<h2>Application Description</h2>

		<p>The application in its final form is mostly similar to the storyboard design.
				The primary visualization is the bar plot, which shows PM 2.5 level for each
				hour of a day. The bars are also colored based on their air quality category,
				and hovering over a bar will display it's PM 2.5 value. Users can scroll through
				a few weeks worth of data to see how air quality changed over time. The
				visualization beings to update as soon as the slider stops moving, adding to the
				flowing nature of the change.</p>

		<p>One change was in the color palette used to encode air quality category. The
				official colors most closely follow a qualitative pattern, but the data they
				encode has order, and would better be described by a sequential palette. On top
				of that, the official palette isn't colorblind friendly either. A legend was
				also added, to explain more of what each category means.
				</p>

			</hr>

		<span id="interactive">

				<h3>Air Quality vs Time of Day</h3>
				<div id="vis"></div>

				<h3>Select Date:</h3>
				<div id="slider"></div>

		</span>

		<div class='my-legend'>
			<div class='legend-title'>Air Quality Legend</div>
			<div class='legend-scale'>
				<ul class='legend-labels'>
					<li><span style='background:#ffffb2;'></span>Good</li>
					<li><span style='background:#fed976;'></span>Moderate</li>
					<li><span style='background:#feb24c;'></span>Unhealthy for Sensitive Groups</li>
					<li><span style='background:#fd8d3c;'></span>Unhealthy</li>
					<li><span style='background:#f03b20;'></span>Very Unhealthy</li>
					<li><span style='background:#bd0026;'></span>Hazardous</li>
				</ul>
			</div>
			<div class='legend-source'>Source: <a href="https://airnow.gov/index.cfm?action=aqibasics.aqi">AirNow</a></div>
		</div>


		<footer>

			<h2>References</h2>

			<p>Code for the slider was adapted primarily from: <a href="bl.ocks.org/officeofjane/9b9e606e9876e34385cc4aeab188ed73">Date slider - filtering data</a>.</p>
			<p>Legend adapted from: <a href="tilemill-project.github.io/tilemill/docs/guides/advanced-legends/">TileMill - Advanced legends</a>.</p>
			<p>Tooltips adapted from: <a href="blockbuilder.org/1Cr18Ni9/bfadecc96183c48d13b7b90bcf358a61">blockbuilder</a>.</p>
			<p>Air quality data was downloaded and manipulated using the <a href="mazamascience.github.io/PWFSLSmoke/">PWFSLSmoke</a> R package.</p>

		</footer>

	</body>

	<script src="js/d3_script.js"></script>

</html>